(self.webpackChunklistmanager=self.webpackChunklistmanager||[]).push([[191],{191:(e,t,n)=>{"use strict";n.r(t),n.d(t,{UserModule:()=>p});var r=n(583),o=n(679),s=n(855),i=n(639),a=n(551);function u(e,t){if(1&e&&(i.TgZ(0,"div",14),i._uU(1),i.qZA()),2&e){const e=i.oxw();i.xp6(1),i.hij(" ",e.errorMessage," ")}}let g=(()=>{class e{constructor(e,t,n){this.router=e,this.location=t,this.auth=n,this.username="",this.password="",this.errorMessage=null,console.log("AuthComponent initialized")}authenticate(e){e.valid?this.auth.authenticate(this.username,this.password).subscribe(e=>{console.log("Response: "),console.log(e),e?this.router.navigateByUrl("/user/main"):this.errorMessage="Authentication Failed"}):this.errorMessage="Form Data Invalid"}goBack(){this.location.back()}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(s.F0),i.Y36(r.Ye),i.Y36(a.e))},e.\u0275cmp=i.Xpm({type:e,selectors:[["ng-component"]],decls:23,vars:3,consts:[[1,"contrainer-fluid"],[1,"bg-info","p-2","text-center","text-white"],[1,"h1"],["class","bg-danger mt-2 p-2 text-center text-dark",4,"ngIf"],[1,"p-2"],["novalidate","",1,"myForm",3,"ngSubmit"],["form","ngForm"],[1,"form-group"],[1,"text-dark"],["name","username","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","password","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-center"],["routerLink","/",1,"btn","btn-secondary","m-1"],["type","submit",1,"btn","btn-primary","m-1"],[1,"bg-danger","mt-2","p-2","text-center","text-dark"]],template:function(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"h3",2),i._uU(3,"ListManager User"),i.qZA(),i.TgZ(4,"h3",2),i._uU(5,"Authorization"),i.qZA(),i.qZA(),i.YNc(6,u,2,1,"div",3),i.TgZ(7,"div",4),i.TgZ(8,"form",5,6),i.NdJ("ngSubmit",function(){i.CHM(e);const n=i.MAs(9);return t.authenticate(n)}),i.TgZ(10,"div",7),i.TgZ(11,"label",8),i._uU(12,"Name"),i.qZA(),i.TgZ(13,"input",9),i.NdJ("ngModelChange",function(e){return t.username=e}),i.qZA(),i.qZA(),i.TgZ(14,"div",7),i.TgZ(15,"label",8),i._uU(16,"Password"),i.qZA(),i.TgZ(17,"input",10),i.NdJ("ngModelChange",function(e){return t.password=e}),i.qZA(),i.qZA(),i.TgZ(18,"div",11),i.TgZ(19,"button",12),i._uU(20,"Go back"),i.qZA(),i.TgZ(21,"button",13),i._uU(22,"Log In"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()}2&e&&(i.xp6(6),i.Q6J("ngIf",null!=t.errorMessage),i.xp6(7),i.Q6J("ngModel",t.username),i.xp6(4),i.Q6J("ngModel",t.password))},directives:[r.O5,o._Y,o.JL,o.F,o.Fj,o.Q7,o.JJ,o.On,s.rH],styles:[".myForm[_ngcontent-%COMP%]{min-width:500px;position:absolute;text-align:center;top:50%;left:50%;transform:translate(-50%,-50%);font-size:2.5rem}@media (max-width: 500px){.myForm[_ngcontent-%COMP%]{min-width:90%}}"]}),e})(),c=(()=>{class e{constructor(){console.log("UserComponent initialized")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["ng-component"]],decls:5,vars:0,consts:[[1,"bg-info","p-2","text-white","text-center"],["routerLink","/",1,"btn","btn-secondary","m-1"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"h3"),i._uU(2,"Placeholder for User"),i.qZA(),i.TgZ(3,"button",1),i._uU(4,"Go back"),i.qZA(),i.qZA())},directives:[s.rH],encapsulation:2}),e})(),d=(()=>{class e{constructor(e,t){this.router=e,this.auth=t}canActivate(e,t){return!(!this.auth.authenticated&&"/user/register"!=t.url&&(this.router.navigateByUrl("/user/auth"),1))}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(s.F0),i.LFG(a.e))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();function l(e,t){if(1&e&&(i.TgZ(0,"div",14),i._uU(1),i.qZA()),2&e){const e=i.oxw();i.xp6(1),i.hij(" ",e.errorMessage," ")}}let m=s.Bz.forChild([{path:"auth",component:g},{path:"register",component:(()=>{class e{constructor(e,t,n){this.router=e,this.location=t,this.auth=n,this.username="",this.password="",this.errorMessage=null,console.log("RegisterComponent initialized")}register(e){e.valid?this.auth.register(this.username,this.password).subscribe(e=>{console.log("Response: "),console.log(e),e?this.router.navigateByUrl("/user/main"):this.errorMessage="Registration Failed (Maybe Name already exists)"}):this.errorMessage="Form Data Invalid"}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(s.F0),i.Y36(r.Ye),i.Y36(a.e))},e.\u0275cmp=i.Xpm({type:e,selectors:[["ng-component"]],decls:23,vars:3,consts:[[1,"contrainer-fluid"],[1,"bg-info","form-header","p-2","text-center","text-white"],[1,"h1"],["class","bg-danger mt-2 p-2 text-center text-dark",4,"ngIf"],[1,"p-2"],["novalidate","",1,"myForm",3,"ngSubmit"],["form","ngForm"],[1,"form-group"],[1,"text-dark"],["name","username","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","password","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-center"],["routerLink","/",1,"btn","btn-secondary","m-1"],["type","submit",1,"btn","btn-primary","m-1"],[1,"bg-danger","mt-2","p-2","text-center","text-dark"]],template:function(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"h3",2),i._uU(3,"ListManager User"),i.qZA(),i.TgZ(4,"h3",2),i._uU(5,"Registration"),i.qZA(),i.qZA(),i.YNc(6,l,2,1,"div",3),i.TgZ(7,"div",4),i.TgZ(8,"form",5,6),i.NdJ("ngSubmit",function(){i.CHM(e);const n=i.MAs(9);return t.register(n)}),i.TgZ(10,"div",7),i.TgZ(11,"label",8),i._uU(12,"Name"),i.qZA(),i.TgZ(13,"input",9),i.NdJ("ngModelChange",function(e){return t.username=e}),i.qZA(),i.qZA(),i.TgZ(14,"div",7),i.TgZ(15,"label",8),i._uU(16,"Password"),i.qZA(),i.TgZ(17,"input",10),i.NdJ("ngModelChange",function(e){return t.password=e}),i.qZA(),i.qZA(),i.TgZ(18,"div",11),i.TgZ(19,"button",12),i._uU(20,"Go back"),i.qZA(),i.TgZ(21,"button",13),i._uU(22,"Register"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()}2&e&&(i.xp6(6),i.Q6J("ngIf",null!=t.errorMessage),i.xp6(7),i.Q6J("ngModel",t.username),i.xp6(4),i.Q6J("ngModel",t.password))},directives:[r.O5,o._Y,o.JL,o.F,o.Fj,o.Q7,o.JJ,o.On,s.rH],styles:[".myForm[_ngcontent-%COMP%]{min-width:500px;position:absolute;text-align:center;top:50%;left:50%;transform:translate(-50%,-50%);font-size:2.5rem;margin:0 auto}@media (max-width: 500px){.myForm[_ngcontent-%COMP%]{min-width:90%}}.form-header[_ngcontent-%COMP%]{font-size:3rem}"]}),e})()},{path:"main",component:c,canActivate:[d]},{path:"**",redirectTo:"auth"}]),p=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[d],imports:[[r.ez,o.u5,m]]}),e})()}}]);