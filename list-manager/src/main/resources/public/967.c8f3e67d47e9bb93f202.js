(self.webpackChunklistmanager=self.webpackChunklistmanager||[]).push([[967],{7967:(e,t,s)=>{"use strict";s.r(t),s.d(t,{UserModule:()=>N});var i=s(8583),r=s(3679),n=s(2498),a=s(639),o=s(4551);function l(e,t){if(1&e&&(a.TgZ(0,"div",14),a._uU(1),a.qZA()),2&e){const e=a.oxw();a.xp6(1),a.hij(" ",e.errorMessage," ")}}let u=(()=>{class e{constructor(e,t,s){this.router=e,this.location=t,this.auth=s,this.username="",this.password="",this.errorMessage=null}authenticate(e){e.valid?this.auth.authenticate(this.username,this.password).subscribe(e=>{e?this.router.navigateByUrl("/user/main"):this.errorMessage="Authentication Failed"}):this.errorMessage="Form Data Invalid"}goBack(){this.location.back()}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(n.F0),a.Y36(i.Ye),a.Y36(o.e))},e.\u0275cmp=a.Xpm({type:e,selectors:[["ng-component"]],decls:23,vars:3,consts:[[1,"contrainer-fluid"],[1,"bg-info","p-2","text-center","text-white"],[1,"h1"],["class","alert alert-danger mt-2 p-2 text-center text-dark",4,"ngIf"],[1,"p-2"],["novalidate","",1,"myForm",3,"ngSubmit"],["form","ngForm"],[1,"form-group"],[1,"text-dark"],["name","username","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","password","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-center"],["routerLink","/",1,"btn","btn-secondary","m-1"],["type","submit",1,"btn","btn-primary","m-1"],[1,"alert","alert-danger","mt-2","p-2","text-center","text-dark"]],template:function(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"h3",2),a._uU(3,"ListManager User"),a.qZA(),a.TgZ(4,"h3",2),a._uU(5,"Authorization"),a.qZA(),a.qZA(),a.YNc(6,l,2,1,"div",3),a.TgZ(7,"div",4),a.TgZ(8,"form",5,6),a.NdJ("ngSubmit",function(){a.CHM(e);const s=a.MAs(9);return t.authenticate(s)}),a.TgZ(10,"div",7),a.TgZ(11,"label",8),a._uU(12,"Name"),a.qZA(),a.TgZ(13,"input",9),a.NdJ("ngModelChange",function(e){return t.username=e}),a.qZA(),a.qZA(),a.TgZ(14,"div",7),a.TgZ(15,"label",8),a._uU(16,"Password"),a.qZA(),a.TgZ(17,"input",10),a.NdJ("ngModelChange",function(e){return t.password=e}),a.qZA(),a.qZA(),a.TgZ(18,"div",11),a.TgZ(19,"button",12),a._uU(20,"Go back"),a.qZA(),a.TgZ(21,"button",13),a._uU(22,"Log In"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()}2&e&&(a.xp6(6),a.Q6J("ngIf",null!=t.errorMessage),a.xp6(7),a.Q6J("ngModel",t.username),a.xp6(4),a.Q6J("ngModel",t.password))},directives:[i.O5,r._Y,r.JL,r.F,r.Fj,r.Q7,r.JJ,r.On,n.rH],styles:[".myForm[_ngcontent-%COMP%]{min-width:500px;position:absolute;text-align:center;top:50%;left:50%;transform:translate(-50%,-50%);font-size:2.5rem}@media (max-width: 500px){.myForm[_ngcontent-%COMP%]{min-width:90%}}"]}),e})();var g=s(8355),c=s(4345),d=s(5758),h=s(4402),p=s(8002),m=s(5377);let Z=(()=>{class e{constructor(e){this.dataSource=e,this.lists=[],this.categories=[],this.allCategories=[],this.itemStatuses=[],this.roles=[],this.user=null,this.users=[],this.publicSelectedUser=null,this.listTotalCount=0,this.listTotalPageCount=0,this.listPageIndex=0,this.listPageSize=0,this.userTotalCount=0,this.userTotalPageCount=0,this.userPageIndex=0,this.userPageSize=0,this.setUpData(),this.requestUsers()}setUpData(){this.requestAll().subscribe(e=>{this.user=e[0],this.itemStatuses=e[1],this.allCategories=e[2],this.roles=e[3]})}requestAll(){let e=[];return e.push(this.dataSource.getUser()),e.push(this.dataSource.getItemStatus()),e.push(this.dataSource.getCategories()),e.push(this.dataSource.getRoles()),(0,d.D)(e)}requestLists(e,t="",s="",i="id",r=0,n=4){return null===this.user?(0,h.D)([!1]):this.dataSource.getListsWithParamsUsingUserId(e,t,s,i,r,n).pipe((0,p.U)(e=>{var t;this.listTotalCount=e.totalCount,this.listTotalPageCount=e.totalPageCount,this.listPageIndex=e.pageIndex,this.listPageSize=e.pageSize,this.lists=[];for(let s of e.data){let e=f(s);e.category=null!==(t=this.allCategories.find(e=>e.id==s.category))&&void 0!==t?t:new g.W,this.lists.push(e)}return!0}))}requestUsers(e=null,t="id",s=0,i=4){return this.dataSource.getUsersWithParams(e,t,s,i).pipe((0,p.U)(e=>(this.userTotalCount=e.totalCount,this.userTotalPageCount=e.totalPageCount,this.userPageIndex=e.pageIndex,this.userPageSize=e.pageSize,this.users=e.data,!0)))}getLists(){return this.lists}getUsers(){return this.users}getCategories(){return this.allCategories}getRoles(){return this.roles}getItemStatuses(){return this.itemStatuses}getUser(){return this.user}saveList(e){return this.dataSource.saveUsersList(e).pipe((0,p.U)(e=>!!this.user&&null!==e))}deleteListById(e){return this.dataSource.deleteListById(e).pipe((0,p.U)(t=>(t&&(this.lists=this.lists.filter(t=>t.id!=e)),t)))}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(m.U))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e})();function f(e){let t=new c.a;return t.id=e.id,t.name=e.name,t.items=e.items,t}function b(e,t){if(1&e&&(a.TgZ(0,"p",11),a._uU(1),a.qZA()),2&e){const e=t.$implicit,s=a.oxw();a.xp6(1),a.Oqu(s.RoleTitleById(e))}}let q=(()=>{class e{constructor(e,t,s){this.router=e,this.location=t,this.auth=s,this.user=null,this.roles=[],this.idToRole={},this.requestAll().subscribe(e=>{e[0]||(e[0]={id:0,username:"Unknown",email:"Unknown",lists:[]}),this.user=e[0],this.roles=e[1];for(let t of this.roles)t.id&&(this.idToRole[t.id]=t)})}requestAll(){let e=[];return e.push(this.auth.getUser()),e.push(this.auth.getRoles()),(0,d.D)(e)}get UserRoles(){var e,t;return null!==(t=null===(e=this.user)||void 0===e?void 0:e.roles)&&void 0!==t?t:[]}RoleTitleById(e){return this.idToRole[e].name}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(n.F0),a.Y36(i.Ye),a.Y36(o.e))},e.\u0275cmp=a.Xpm({type:e,selectors:[["ng-component"]],decls:23,vars:4,consts:[[1,"container-fluid","full-screen"],[1,"row","h-20"],[1,"col","bg-dark","text-white"],[1,"row","h-80"],[1,"col","bg-dark","p-2","text-white","text-center"],[1,"card","bg-dark","m-0"],["src","../../../assets/images/bg.jpeg","alt","images",1,"w-100"],[1,"roles"],["class","m-2 bg-primary role",4,"ngFor","ngForOf"],["routerLink","/",1,"btn","btn-secondary","m-2"],["routerLink","/user/user-edit",1,"btn","btn-secondary","m-2"],[1,"m-2","bg-primary","role"]],template:function(e,t){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"h1"),a._uU(4,"User Profile"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(5,"div",3),a.TgZ(6,"div",4),a.TgZ(7,"div",5),a._UZ(8,"img",6),a.TgZ(9,"h1"),a._uU(10),a.qZA(),a.TgZ(11,"div",7),a.YNc(12,b,2,1,"p",8),a.qZA(),a.TgZ(13,"p"),a._uU(14,"List Manager User"),a.qZA(),a.TgZ(15,"h3"),a._uU(16),a.qZA(),a.TgZ(17,"h3"),a._uU(18),a.qZA(),a.qZA(),a.TgZ(19,"button",9),a._uU(20,"Go to Main Page"),a.qZA(),a.TgZ(21,"button",10),a._uU(22,"Edit Profile"),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e&&(a.xp6(10),a.Oqu(t.user?t.user.username:"Not loaded"),a.xp6(2),a.Q6J("ngForOf",t.UserRoles),a.xp6(4),a.hij("Email: ",t.user?t.user.email:"Not loaded",""),a.xp6(2),a.hij("You have ",t.user?null==t.user.lists?null:t.user.lists.length:"Not loaded"," lists"))},directives:[i.sg,n.rH],styles:[".full-screen[_ngcontent-%COMP%]{width:100%;height:100%;margin:0;padding:0}.roles[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.role[_ngcontent-%COMP%]{border-radius:10px;padding:1.2em}"]}),e})();function v(e,t){if(1&e&&(a.TgZ(0,"div",9),a._uU(1),a.qZA()),2&e){const e=a.oxw();a.xp6(1),a.hij(" ",e.errorMessage," ")}}let A=(()=>{class e{constructor(e,t){this.auth=e,this.location=t,this.user={},this.Saving=!1,this.errorMessage=null,this.requestAll().subscribe(e=>{var t;this.user={id:e.id,email:null!==(t=e.email)&&void 0!==t?t:null,password:""}})}requestAll(){let e=[];return e.push(this.auth.getUser()),(0,d.D)(e)}get User(){return this.user}goBack(){this.location.back()}saveUser(){this.user?(this.Saving=!0,this.auth.updateUser(this.user).subscribe(e=>{this.user=null!=e?e:{},this.Saving=!1,e&&this.location.back()})):this.errorMessage="user is not set"}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(o.e),a.Y36(i.Ye))},e.\u0275cmp=a.Xpm({type:e,selectors:[["user-edit"]],decls:16,vars:7,consts:[[1,"container-fluid"],["class","alert alert-danger mt-2 p-2 text-center text-dark",4,"ngIf"],[1,"row"],[1,"text-dark"],["name","listname","type","text","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","listname","type","password","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-center"],[1,"btn","btn-secondary","m-2",3,"click"],[1,"btn","btn-primary","m-2",3,"click"],[1,"alert","alert-danger","mt-2","p-2","text-center","text-dark"]],template:function(e,t){1&e&&(a.TgZ(0,"div",0),a.YNc(1,v,2,1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"div"),a.TgZ(4,"label",3),a._uU(5,"Email"),a.qZA(),a.TgZ(6,"input",4),a.NdJ("ngModelChange",function(e){return t.user.email=e}),a.qZA(),a.qZA(),a.TgZ(7,"div"),a.TgZ(8,"label",3),a._uU(9,"New Password"),a.qZA(),a.TgZ(10,"input",5),a.NdJ("ngModelChange",function(e){return t.user.password=e}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(11,"div",6),a.TgZ(12,"button",7),a.NdJ("click",function(){return t.goBack()}),a._uU(13,"Go back"),a.qZA(),a.TgZ(14,"button",8),a.NdJ("click",function(){return t.saveUser()}),a._uU(15,"Save"),a.qZA(),a.qZA(),a.qZA()),2&e&&(a.xp6(1),a.Q6J("ngIf",null!=t.errorMessage),a.xp6(5),a.Q6J("ngModel",t.user.email),a.xp6(4),a.Q6J("ngModel",t.user.password),a.xp6(2),a.ekj("disabled",t.Saving),a.xp6(2),a.ekj("disabled",t.Saving))},directives:[i.O5,r.Fj,r.Q7,r.JJ,r.On],encapsulation:2}),e})();function T(e,t){if(1&e&&(a.TgZ(0,"option",9),a._uU(1),a.qZA()),2&e){const e=t.$implicit;a.Q6J("value",e.id),a.xp6(1),a.hij(" ",e.name," ")}}function U(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"button",25),a.NdJ("click",function(){const t=a.CHM(e).$implicit;return a.oxw().changeUser(t)}),a._uU(1),a.qZA()}if(2&e){const e=t.$implicit,s=a.oxw();a.ekj("active",e==s.selectedUser)("disabled",s.requestingData),a.xp6(1),a.hij(" ",e.username," ")}}function x(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"button",26),a.NdJ("click",function(){const t=a.CHM(e).$implicit;return a.oxw().changeUserPage(t)}),a._uU(1),a.qZA()}if(2&e){const e=t.$implicit,s=a.oxw();a.ekj("disabled",s.requestingLists)("active",e==s.selectedUserPage),a.xp6(1),a.hij(" ",e," ")}}function P(e,t){if(1&e&&(a.TgZ(0,"option",9),a._uU(1),a.qZA()),2&e){const e=t.$implicit;a.Q6J("value",e.name),a.xp6(1),a.hij(" ",e.name," ")}}function w(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",27),a.NdJ("click",function(){const t=a.CHM(e).$implicit;return a.oxw().selectList(t)}),a.TgZ(1,"h4"),a._uU(2),a.TgZ(3,"span",28),a._uU(4),a.qZA(),a.qZA(),a.TgZ(5,"div",29),a._uU(6," Embedded list content will go here "),a.TgZ(7,"button",30),a.NdJ("click",function(){const t=a.CHM(e).$implicit;return a.oxw().deleteList(t)}),a._uU(8," Delete "),a.qZA(),a.qZA(),a.qZA()}if(2&e){const e=t.$implicit,s=a.oxw();a.ekj("bg-dark",e==s.selectedList)("text-white",e==s.selectedList),a.xp6(2),a.hij(" ",e.name," "),a.xp6(2),a.hij(" ",null==e.items?null:e.items.length," ")}}function y(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"button",31),a.NdJ("click",function(){const t=a.CHM(e).$implicit;return a.oxw().changeListPage(t)}),a._uU(1),a.qZA()}if(2&e){const e=t.$implicit,s=a.oxw();a.ekj("disabled",s.requestingLists)("active",e==s.selectedListPage),a.xp6(1),a.hij(" ",e," ")}}function k(e,t){if(1&e&&(a.TgZ(0,"div",34),a.TgZ(1,"div",1),a.TgZ(2,"div",35),a._uU(3),a.qZA(),a.TgZ(4,"div",36),a._uU(5),a.qZA(),a.TgZ(6,"div",37),a._uU(7),a.qZA(),a.qZA(),a.qZA()),2&e){const e=t.$implicit;a.xp6(1),a.ekj("btn-outline-warning","To Do"==(null==e.status?null:e.status.name))("btn-outline-info","In Progress"==(null==e.status?null:e.status.name))("btn-outline-success","Done"==(null==e.status?null:e.status.name)),a.xp6(2),a.hij(" ",e.number," "),a.xp6(2),a.hij(" ",e.description," "),a.xp6(2),a.hij(" ",null==e.status?null:e.status.name," ")}}function C(e,t){if(1&e&&(a.TgZ(0,"div",32),a.TgZ(1,"div",1),a.TgZ(2,"h2"),a._uU(3),a.qZA(),a.TgZ(4,"h4"),a._uU(5),a.qZA(),a.YNc(6,k,8,9,"div",33),a.qZA(),a.qZA()),2&e){const e=a.oxw();a.xp6(3),a.hij(" Name: ",e.selectedList.name," "),a.xp6(2),a.hij(" Category: ",null==e.selectedList.category?null:e.selectedList.category.name," "),a.xp6(1),a.Q6J("ngForOf",e.selectedList.items)}}let M=(()=>{class e{constructor(e,t,s,i){this.router=e,this.location=t,this.repository=s,this.auth=i,this.user=null,this.selectedCategory=null,this.listsPerPage=4,this.usersPerPage=4,this.selectedListPage=1,this.selectedUserPage=1,this.listName="",this.requestingLists=!1,this.usersLists=!1,this.requestingData=!1,this.searchUserName="",this.selectedUser=null,this.selectedRole=null,this.selectedRoleId=null,this.selectedCategoryName=null,this.selectedList=null,this.auth.getUser().subscribe(e=>{e||(e={id:0,username:"Unknown",roles:[],email:"Unknown",lists:[]}),this.user=e}),this.refreshUsers()}get Roles(){return this.repository.getRoles()}get Categories(){return this.repository.getCategories()}get Users(){return this.repository.getUsers()}changeUserPage(e){this.selectedUserPage=e,this.refreshUsers()}changeUserPageSize(e){this.usersPerPage=Number(e),this.selectedUserPage=1,this.refreshUsers()}changeRole(e){this.selectedRoleId=null,e&&!isNaN(parseInt(e.toString(),10))&&(this.selectedRoleId=e),this.selectedUserPage=1,this.refreshUsers()}changeUser(e){this.selectedUser=null!=e?e:null,this.selectedListPage=1,this.refreshLists()}refreshUsers(){this.requestingData=!0,this.repository.requestUsers(this.selectedRoleId,"id",this.selectedUserPage-1,this.usersPerPage).subscribe(e=>{this.requestingData=!1})}get userPageCount(){return this.repository.userTotalPageCount}get userPageNumbers(){return Array(this.userPageCount).fill(0).map((e,t)=>t+1)}get Lists(){return this.repository.getLists()}changeListPage(e){this.selectedListPage=e,this.refreshLists()}changeListPageSize(e){this.listsPerPage=Number(e),this.selectedListPage=1,this.refreshLists()}get listPageCount(){return this.repository.listTotalPageCount}get listPageNumbers(){return Array(this.listPageCount).fill(0).map((e,t)=>t+1)}changeCategory(e){this.selectedCategoryName=e,this.selectedListPage=1,this.refreshLists()}refreshLists(){var e;if(null===this.selectedUser)return;this.requestingData=!0;let t="null"!=this.selectedCategoryName?this.selectedCategoryName:"";this.repository.requestLists(null===(e=this.selectedUser)||void 0===e?void 0:e.id,"",null!=t?t:void 0,"id",this.selectedListPage-1,this.listsPerPage).subscribe(e=>{this.requestingData=!1})}selectList(e){this.selectedList=e}deleteList(e){e.id&&confirm("Do you really want to delete this list?")&&(this.requestingData=!0,this.repository.deleteListById(e.id).subscribe(e=>{this.requestingData=!1})),this.selectedListPage=1,this.refreshLists()}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(n.F0),a.Y36(i.Ye),a.Y36(Z),a.Y36(o.e))},e.\u0275cmp=a.Xpm({type:e,selectors:[["ng-component"]],decls:49,vars:17,consts:[[1,"contrainer-fluid","d-flex","flex-column","h-100"],[1,"row"],[1,"col","bg-dark","text-white"],["routerLink","/",1,"btn","btn-secondary","m-1"],[1,"row","h-100","align-self-stretch"],[1,"col-3","p-2"],[1,"p-2","text-center"],[1,"form-inline","float-left","mr-1","mt-auto"],[1,"form-control",3,"ngModel","change","ngModelChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["class","btn btn-outline-dark btn-block w-100",3,"active","disabled","click",4,"ngFor","ngForOf"],[1,"form-control",3,"value","change"],["value","3"],["value","4"],["value","6"],["value","8"],[1,"btn-group","float-right"],["class","btn btn-outline-dark",3,"disabled","active","click",4,"ngFor","ngForOf"],[1,"col-5","bg-secondary","p-2","h-100","d-flex","flex-column","pb-3"],[1,"p-2","text-center","bg-light"],[1,"form-inline","float-left","mr-1","mb-auto"],["class","card m-1 p-1 bg-light",3,"bg-dark","text-white","click",4,"ngFor","ngForOf"],["class","btn btn-outline-light",3,"disabled","active","click",4,"ngFor","ngForOf"],["class","col-4 p-2 h-100 d-flex flex-column pb-3",4,"ngIf"],[1,"btn","btn-outline-dark","btn-block","w-100",3,"click"],[1,"btn","btn-outline-dark",3,"click"],[1,"card","m-1","p-1","bg-light",3,"click"],[1,"badge","badge-pill","badge-primary","float-right","text-warning",2,"float","right"],[1,"card-text","p-1"],[1,"btn","btn-danger","btn-sm","float-right",2,"float","right",3,"click"],[1,"btn","btn-outline-light",3,"click"],[1,"col-4","p-2","h-100","d-flex","flex-column","pb-3"],["clas","container-fluid",4,"ngFor","ngForOf"],["clas","container-fluid"],[1,"col-1"],[1,"col-7"],[1,"col-4"]],template:function(e,t){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"button",3),a._uU(4," Go to main page "),a.qZA(),a.qZA(),a.qZA(),a.TgZ(5,"div",4),a.TgZ(6,"div",5),a.TgZ(7,"h4",6),a._uU(8,"Users:"),a.qZA(),a.TgZ(9,"div",7),a.TgZ(10,"select",8),a.NdJ("change",function(e){return t.changeRole(e.target.value)})("ngModelChange",function(e){return t.selectedRoleId=e}),a.TgZ(11,"option",9),a._uU(12," All "),a.qZA(),a.YNc(13,T,2,2,"option",10),a.qZA(),a.qZA(),a.YNc(14,U,2,5,"button",11),a.TgZ(15,"div",7),a.TgZ(16,"select",12),a.NdJ("change",function(e){return t.changeUserPageSize(e.target.value)}),a.TgZ(17,"option",13),a._uU(18,"3 per Page"),a.qZA(),a.TgZ(19,"option",14),a._uU(20,"4 per Page"),a.qZA(),a.TgZ(21,"option",15),a._uU(22,"6 per Page"),a.qZA(),a.TgZ(23,"option",16),a._uU(24,"8 per Page"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(25,"div",17),a.YNc(26,x,2,5,"button",18),a.qZA(),a.qZA(),a.TgZ(27,"div",19),a.TgZ(28,"h4",20),a._uU(29,"Categories:"),a.qZA(),a.TgZ(30,"div",21),a.TgZ(31,"select",8),a.NdJ("change",function(e){return t.changeCategory(e.target.value)})("ngModelChange",function(e){return t.selectedCategoryName=e}),a.TgZ(32,"option",9),a._uU(33," All "),a.qZA(),a.YNc(34,P,2,2,"option",10),a.qZA(),a.qZA(),a.YNc(35,w,9,6,"div",22),a.TgZ(36,"div",7),a.TgZ(37,"select",12),a.NdJ("change",function(e){return t.changeListPageSize(e.target.value)}),a.TgZ(38,"option",13),a._uU(39,"3 per Page"),a.qZA(),a.TgZ(40,"option",14),a._uU(41,"4 per Page"),a.qZA(),a.TgZ(42,"option",15),a._uU(43,"6 per Page"),a.qZA(),a.TgZ(44,"option",16),a._uU(45,"8 per Page"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(46,"div",17),a.YNc(47,y,2,5,"button",23),a.qZA(),a.qZA(),a.YNc(48,C,7,3,"div",24),a.qZA(),a.qZA()),2&e&&(a.xp6(10),a.Q6J("ngModel",t.selectedRoleId),a.xp6(1),a.Q6J("value",null),a.xp6(2),a.Q6J("ngForOf",t.Roles),a.xp6(1),a.Q6J("ngForOf",t.Users),a.xp6(2),a.ekj("disabled",t.requestingData),a.Q6J("value",t.usersPerPage),a.xp6(10),a.Q6J("ngForOf",t.userPageNumbers),a.xp6(5),a.Q6J("ngModel",t.selectedCategoryName),a.xp6(1),a.Q6J("value",null),a.xp6(2),a.Q6J("ngForOf",t.Categories),a.xp6(1),a.Q6J("ngForOf",t.Lists),a.xp6(2),a.ekj("disabled",t.requestingLists),a.Q6J("value",t.listsPerPage),a.xp6(10),a.Q6J("ngForOf",t.listPageNumbers),a.xp6(1),a.Q6J("ngIf",null!==t.selectedList))},directives:[n.rH,r.EJ,r.JJ,r.On,r.YN,r.Kr,i.sg,i.O5],encapsulation:2}),e})(),_=(()=>{class e{constructor(e,t){this.router=e,this.auth=t}canActivate(e,t){return(this.auth.isAdmin||"/user/admin"!=t.url)&&!(!this.auth.authenticated&&"/user/register"!=t.url)||(this.router.navigateByUrl("/user/auth"),!1)}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(n.F0),a.LFG(o.e))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e})();function L(e,t){if(1&e&&(a.TgZ(0,"div",14),a._uU(1),a.qZA()),2&e){const e=a.oxw();a.xp6(1),a.hij(" ",e.ErroMessage," ")}}let J=n.Bz.forChild([{path:"user-edit",component:A},{path:"auth",component:u},{path:"register",component:(()=>{class e{constructor(e,t,s){this.router=e,this.location=t,this.auth=s,this.username="",this.password="",this.errorMessage=null}get ErroMessage(){return this.errorMessage}register(e){e.valid?this.auth.register(this.username,this.password).subscribe(e=>{e?this.router.navigateByUrl("/user/main"):this.errorMessage="Registration Failed (Maybe Name already exists)"}):this.errorMessage="Form Data Invalid"}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(n.F0),a.Y36(i.Ye),a.Y36(o.e))},e.\u0275cmp=a.Xpm({type:e,selectors:[["ng-component"]],decls:23,vars:3,consts:[[1,"contrainer-fluid"],[1,"bg-info","form-header","p-2","text-center","text-white"],[1,"h1"],["class","alert alert-danger mt-2 p-2 text-center text-dark",4,"ngIf"],[1,"p-2"],["novalidate","",1,"myForm",3,"ngSubmit"],["form","ngForm"],[1,"form-group"],[1,"text-dark"],["name","username","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","password","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-center"],["routerLink","/",1,"btn","btn-secondary","m-1"],["type","submit",1,"btn","btn-primary","m-1"],[1,"alert","alert-danger","mt-2","p-2","text-center","text-dark"]],template:function(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"h3",2),a._uU(3,"ListManager User"),a.qZA(),a.TgZ(4,"h3",2),a._uU(5,"Registration"),a.qZA(),a.qZA(),a.YNc(6,L,2,1,"div",3),a.TgZ(7,"div",4),a.TgZ(8,"form",5,6),a.NdJ("ngSubmit",function(){a.CHM(e);const s=a.MAs(9);return t.register(s)}),a.TgZ(10,"div",7),a.TgZ(11,"label",8),a._uU(12,"Name"),a.qZA(),a.TgZ(13,"input",9),a.NdJ("ngModelChange",function(e){return t.username=e}),a.qZA(),a.qZA(),a.TgZ(14,"div",7),a.TgZ(15,"label",8),a._uU(16,"Password"),a.qZA(),a.TgZ(17,"input",10),a.NdJ("ngModelChange",function(e){return t.password=e}),a.qZA(),a.qZA(),a.TgZ(18,"div",11),a.TgZ(19,"button",12),a._uU(20,"Go back"),a.qZA(),a.TgZ(21,"button",13),a._uU(22,"Register"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()}2&e&&(a.xp6(6),a.Q6J("ngIf",null!=t.ErroMessage),a.xp6(7),a.Q6J("ngModel",t.username),a.xp6(4),a.Q6J("ngModel",t.password))},directives:[i.O5,r._Y,r.JL,r.F,r.Fj,r.Q7,r.JJ,r.On,n.rH],styles:[".myForm[_ngcontent-%COMP%]{min-width:500px;position:absolute;text-align:center;top:50%;left:50%;transform:translate(-50%,-50%);font-size:2.5rem;margin:0 auto}@media (max-width: 500px){.myForm[_ngcontent-%COMP%]{min-width:90%}}.form-header[_ngcontent-%COMP%]{font-size:3rem}"]}),e})()},{path:"main",component:q,canActivate:[_]},{path:"admin",component:M,canActivate:[_]},{path:"**",redirectTo:"auth"}]),N=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({providers:[_,Z],imports:[[i.ez,r.u5,J]]}),e})()}}]);